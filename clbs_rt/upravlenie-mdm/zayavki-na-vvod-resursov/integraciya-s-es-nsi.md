---
title: Интеграция с ЕС НСИ
description: Инструкция по сопоставлению номенклатуры IT-Entrprise с номенклатурой ЕС НСИ
published: true
date: 2022-09-11T17:31:41.313Z
tags: 
editor: markdown
dateCreated: 2022-08-31T09:15:40.634Z
---

# Интеграция с ЕС НСИ

{% hint style="info" %}
Администрирование системы → Управление основными данными (MDM) → Ресурсы → Изменения Классификатора
{% endhint %}

![](<../../../.gitbook/assets/0 (89).png>)

## Увязка ресурсов справочников

Заявки для **«ОТРАБОТКИ СХЕМЫ ИНТЕГРАЦИИ»** прилетают от **«РОБОТА»** (Ф.И.О. кто добавил) на готовую продукцию с кодом ЕС НСИ

![](<../../../.gitbook/assets/1 (50).png>)

Становимся на заявку и нажимаем значок **«Взять на редактирование»**

![](<../../../.gitbook/assets/2 (49).png>)

Далее, в **IT-enterprise** находим вкладку «**ГРУППЫ ПОДГРУППЫ РЕСУРСОВ**» находим группу «**G Готовая продукция» --> «G01 Радиаторы»,** далее встаем на нужную подгруппу.

![](<../../../.gitbook/assets/3 (93).png>)

По наименованию находим ресурс, для которого нужно привязать **«КОД ЕС НСИ»** (наименование в заявке может отличаться от наименования, заведенного в IT-enterprise). Проваливаемся в ресурс.

![](<../../../.gitbook/assets/4 (78).png>)

Во вкладке **«КОДЫ»**, в поле **«ЕС НСИ»** прописываем код, который указан в заявке. Жмем **«СОХРАНИТЬ»**

![](<../../../.gitbook/assets/5 (63).png>)

Возвращаемся к заявке, становимся на строку **«ДОБАВИТЬ»** в поле **«СТРОКИ ИЗВЕЩЕНИЯ»,** нажимаем функциональную клавишу F**2.**

![](<../../../.gitbook/assets/6 (49).png>)

Выбираете расчет **«ПРИВЯЗАТЬ ПО КОДУ ЕС НСИ»**

![](<../../../.gitbook/assets/7 (33).png>)

Проверяем, правильно ли идет привязка кода ЕС НСИ к коду ресурса. Если все верно, жмем **ДА**.

![](<../../../.gitbook/assets/8 (27).png>)

Видим, строка **«ДОБАВИТЬ»** изменила статус на **«ИЗМЕНИТЬ РЕКВИЗИТЫ»** с прописанным кодом изменяемого ресурса на новый с кодом ЕС НСИ**.** Становимся на заявку и продвигаем **«ВПЕРЕД»**

![](<../../../.gitbook/assets/9 (29).png>)

Жмем **ДА**.

![](<../../../.gitbook/assets/10 (20).png>)

Выбираем **«ВСЕ НЕПРОВЕДЕННЫЕ СТРОКИ».** Обработка схемы интеграции с **ЕС НСИ** выполнена!

![](<../../../.gitbook/assets/11 (24).png>)

## **Проверка внесенных данных**

Возвращаемся к ресурсу:

* Вкладка **«КОДЫ»,** находим поле «**КОД ЕС НСИ»** и видим, статус изменился с **«РЕСУРС НЕ ПОДПИСАН»** на **«РЕСУРС ПОДПИСАН».**
* Вкладка **«ДОП. ХАРАКТЕРИСТИКИ»** все характеристики заполнены, привязан штрихкод

Интеграция **НСИ** с **IT-enterprise** прошла успешна!

![](<../../../.gitbook/assets/12 (11).png>) ![C:\Users\kushpil\_e\AppData\Local\Microsoft\Windows\Temporary Internet Files\Content.Word\2020-08-13 (29).png](<../../../.gitbook/assets/13 (29).png>)

## Функции по работе с данными ЕС НСИ

![](<../../../.gitbook/assets/image (926).png>)

**1. ОБНОВИТЬ ИЗ НСИ -** получить/обновить данные из ЕС НСИ


Если в ресурсе заполнен код ЕС-НСИ, то из ЕС-НСИ втянуться значения:

* R51 Штрихкод EAN13
* R52 Штрихкод ITF14
* R8 Вес (нетто)
* R5 Высота
* R6 Ширина
* R16 Длина
* R53 Высота в упаковке
* R54 Ширина в упаковке
* R55 Длина в упаковке
* R56 Вес Брутто
* R57 Объем Брутто
* Также поля в KSM N\_RES\_DOC

**2. ПОДПИСАТЬСЯ НА ИЗМЕНЕНИЯ НСИ -** подписаться на обновление данных из ЕС НСИ

Если заполнен КОД ЕС-НСИ Ресурс будет подписан на изменения в ЕС-НСИ, это значит что при обновлении данных в ЕС-НСИ данные также будут обновлены и в ИТЕ

Обновляться данные будут аналогично п1.

**3. ЛОГ ОБНОВЛЕНИЯ НСИ**

Если заполнен код ЕС-НСИ будет отображена табличка с историей действий по ЕС-НСИ

Значения:

* UPDATE - Обновление номенклатуры из НСИ
* CONFIRM - Подтверждение подписки
* Create\_TTIZ - Создана заявка на новую номенклатуру
* ADD\_SUBSCRIBE - Добавлено в подписку
* UPDATE\_SUBSCRIBE - Обновлена по подписке

![](<../../../.gitbook/assets/image (353).png>)

**4. ОТПИСАТЬСЯ ОТ ИЗМЕНЕНИЙ**

Если заполнен код ЕС-НСИ будет произведена отписка от ЕС-НСИ, т.е. изменения в ЕС-НСИ не будут отправляться в ИТЕ

**5. ОТПРАВИТЬ В ЕС НСИ**

Будет инициирован бизнес процесс на стороне ЕС-НСИ по созданию ресурса там, при это необходимо чтобы были заполнены следующие доп. характеристики ресурса:

* Вес нетто(R8)
* Ширина(R6)
* Высота(R5)
* Длина(R16)
* Вес(R56)

Если хотя бы одного нету, система не про инициирует процесс создания и выдаст сообщение о необходимости исправить

![](<../../../.gitbook/assets/image (194).png>)
